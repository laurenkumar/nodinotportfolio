{"remainingRequest":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/uthaya/Downloads/tplh.net-2019-master 3/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/src/App.vue","mtime":1586526486427},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJzsKaW1wb3J0IHNsZWVwIGZyb20gJ2pzLXV0aWwvc2xlZXAnOwppbXBvcnQgZGVib3VuY2UgZnJvbSAnanMtdXRpbC9kZWJvdW5jZSc7CgppbXBvcnQgR2xvYmFsVGl0bGUgZnJvbSAnQC9jb21wb25lbnRzL2dsb2JhbC9HbG9iYWxUaXRsZS52dWUnOwppbXBvcnQgVXRpbGl0eU5hdmkgZnJvbSAnQC9jb21wb25lbnRzL2dsb2JhbC9VdGlsaXR5TmF2aS52dWUnOwppbXBvcnQgV29ya3NOYXZpIGZyb20gJ0AvY29tcG9uZW50cy9nbG9iYWwvV29ya3NOYXZpLnZ1ZSc7CmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL2dsb2JhbC9QcmVsb2FkZXIudnVlJzsKaW1wb3J0IEd1aWRlIGZyb20gJ0AvY29tcG9uZW50cy9nbG9iYWwvR3VpZGUudnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBwJywKICBtZXRhSW5mbzogewogICAgdGl0bGU6ICcnLAogICAgdGl0bGVUZW1wbGF0ZTogJyVzQXhlbCBOb2Rpbm90JywKICAgIG1ldGE6IFsKICAgICAgewogICAgICAgIG5hbWU6ICdkZXNjcmlwdGlvbicsCiAgICAgICAgY29udGVudDogJ0plIHN1aXMgdW4gam91cm5hbGlzdGUuIEJvdXNpbGzDqSBkZSByYXAuJwogICAgICB9CiAgICBdCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBHbG9iYWxUaXRsZSwKICAgIFV0aWxpdHlOYXZpLAogICAgV29ya3NOYXZpLAogICAgUHJlbG9hZGVyLAogICAgR3VpZGUKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2VG91Y2hTdGFydDogbmV3IFRIUkVFLlZlY3RvcjIoKSwKICAgICAgdlRvdWNoTW92ZVN0YXJ0OiBuZXcgVEhSRUUuVmVjdG9yMigpLAogICAgICB2VG91Y2hNb3ZlOiBuZXcgVEhSRUUuVmVjdG9yMigpLAogICAgICBpc1RvdWNoTW92aW5nOiBmYWxzZQogICAgfTsKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBjb25zdCB7IHN0YXRlLCBkaXNwYXRjaCB9ID0gdGhpcy4kc3RvcmU7CgogICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoc3RhdGUuY2FudmFzKTsKICAgIHN0YXRlLmNhbnZhcy5zdHlsZSA9IGAKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgdG9wOiAwOwogICAgICAgIGxlZnQ6IDA7CiAgICAgIGA7CgogICAgLy8gT24gZ2xvYmFsIGV2ZW50cy4KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZSh0aGlzLnJlc2l6ZSwgMTAwKSk7CiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5tb3VzZW1vdmUpOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMubW91c2VsZWF2ZSk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy50b3VjaHN0YXJ0KTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudG91Y2htb3ZlKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy50b3VjaGVuZCk7CgogICAgYXdhaXQgc2xlZXAoNTAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd1ByZWxvYWRlcicpOwogICAgdGhpcy51cGRhdGUoKTsKICAgIGF3YWl0IGRpc3BhdGNoKCdpbml0V2ViR0wnKTsKICAgIHN0YXRlLndlYmdsLnN0YXJ0KHN0YXRlLmNhbnZhcywgdGhpcy4kc3RvcmUpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRyYW5zaXRpb25OYW1lKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuaXNUcmFuc2l0aW9uRGVzY2VuZCA9PT0gdHJ1ZQogICAgICAgID8gJ3ZpZXcnCiAgICAgICAgOiAndmlldy1hc2MnOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlKCkgewogICAgICBjb25zdCB7CiAgICAgICAgd2ViZ2wsCiAgICAgICAgcHJlbG9hZE1heCwKICAgICAgICBwcmVsb2FkUHJvZ3Jlc3MsCiAgICAgICAgaXNMb2FkZWQKICAgICAgfSA9IHRoaXMuJHN0b3JlLnN0YXRlOwogICAgICBpZiAoaXNMb2FkZWQgPT09IGZhbHNlKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVQcmVsb2FkUHJvZ3Jlc3MnKTsKICAgICAgICBpZiAocHJlbG9hZFByb2dyZXNzIC8gcHJlbG9hZE1heCA+IDAuOTk5KSB7CiAgICAgICAgICB0aGlzLmxvYWRlZCgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB3ZWJnbC51cGRhdGUoKTsKICAgICAgfQogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUpOwogICAgfSwKICAgIGFzeW5jIGxvYWRlZCgpIHsKICAgICAgdGhpcy5yZXNpemUoKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdsb2FkZWQnKTsKICAgICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT09ICdob21lJykgewogICAgICAgIGF3YWl0IHNsZWVwKDgwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXdhaXQgc2xlZXAoMjQwMCk7CiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuc3RhdGUud2ViZ2wucGxheSgpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3Nob3dWaWV3Jyk7CiAgICB9LAogICAgcmVzaXplKCkgewogICAgICBjb25zdCB7IGNhbnZhcywgcmVzb2x1dGlvbiwgd2ViZ2wgfSA9IHRoaXMuJHN0b3JlLnN0YXRlOwoKICAgICAgcmVzb2x1dGlvbi5zZXQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTsKICAgICAgY2FudmFzLndpZHRoID0gcmVzb2x1dGlvbi54OwogICAgICBjYW52YXMuaGVpZ2h0ID0gcmVzb2x1dGlvbi55OwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZU1lZGlhUXVlcnknLCByZXNvbHV0aW9uLnggPCA3NjgpOwogICAgICB3ZWJnbC5yZXNpemUoKTsKICAgIH0sCiAgICBtb3VzZW1vdmUoZSkgewogICAgICBpZiAoCiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuaXNTaG93blVJID09PSBmYWxzZSB8fAogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmlzRW5hYmxlZFRvdWNoID09PSB0cnVlCiAgICAgICkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgY29uc3QgeyByZXNvbHV0aW9uLCBtb3VzZSwgbW91c2VQcmV2LCBtb3VzZUZvcmNlIH0gPSB0aGlzLiRzdG9yZS5zdGF0ZTsKCiAgICAgIGlmIChtb3VzZVByZXYubGVuZ3RoKCkgIT09IDApIG1vdXNlUHJldi5jb3B5KG1vdXNlKTsKICAgICAgbW91c2Uuc2V0KAogICAgICAgIChlLmNsaWVudFggLyByZXNvbHV0aW9uLngpICogMiAtIDEsCiAgICAgICAgLShlLmNsaWVudFkgLyByZXNvbHV0aW9uLnkpICogMiArIDEKICAgICAgKTsKICAgICAgaWYgKG1vdXNlUHJldi5sZW5ndGgoKSA9PT0gMCkgbW91c2VQcmV2LmNvcHkobW91c2UpOwogICAgICBtb3VzZUZvcmNlLmNvcHkobW91c2UuY2xvbmUoKS5zdWIobW91c2VQcmV2KSk7CiAgICB9LAogICAgbW91c2VsZWF2ZSgpIHsKICAgICAgY29uc3QgeyBtb3VzZSwgbW91c2VQcmV2LCBtb3VzZUZvcmNlIH0gPSB0aGlzLiRzdG9yZS5zdGF0ZTsKCiAgICAgIG1vdXNlLnNldCgwLCAwKTsKICAgICAgbW91c2VQcmV2LnNldCgwLCAwKTsKICAgICAgbW91c2VGb3JjZS5zZXQoMCwgMCk7CiAgICB9LAogICAgdG91Y2hzdGFydChlKSB7CiAgICAgIGNvbnN0IHsgY29tbWl0IH0gPSB0aGlzLiRzdG9yZTsKCiAgICAgIGNvbW1pdCgnc2V0RW5hYmxlZFRvdWNoJywgdHJ1ZSk7CiAgICAgIGNvbW1pdCgnc3RhcnRUb3VjaCcpOwogICAgICB0aGlzLnZUb3VjaFN0YXJ0LnNldChlLnRvdWNoZXNbMF0uY2xpZW50WCwgZS50b3VjaGVzWzBdLmNsaWVudFkpOwogICAgICB0aGlzLnZUb3VjaE1vdmUuc2V0KGUudG91Y2hlc1swXS5jbGllbnRYLCBlLnRvdWNoZXNbMF0uY2xpZW50WSk7CiAgICB9LAogICAgdG91Y2htb3ZlKGUpIHsKICAgICAgY29uc3QgeyBzdGF0ZSwgY29tbWl0IH0gPSB0aGlzLiRzdG9yZTsKCiAgICAgIGlmIChzdGF0ZS5pc1RvdWNoU3RhcnRlZCA9PT0gZmFsc2UpIHJldHVybjsKICAgICAgdGhpcy52VG91Y2hNb3ZlLnNldChlLnRvdWNoZXNbMF0uY2xpZW50WCwgZS50b3VjaGVzWzBdLmNsaWVudFkpOwogICAgICBpZiAoc3RhdGUuaXNUb3VjaE1vdmluZyA9PT0gZmFsc2UpIHsKICAgICAgICAvLyBqdWRnZSB3aGV0aGVyIHRoZSB0b3VjaCBpcyBhIHN3aXBlIG9yIGEgc2luZ2xlIHRhcC4KICAgICAgICBpZiAoCiAgICAgICAgICB0aGlzLnZUb3VjaFN0YXJ0CiAgICAgICAgICAgIC5jbG9uZSgpCiAgICAgICAgICAgIC5zdWIodGhpcy52VG91Y2hNb3ZlKQogICAgICAgICAgICAubGVuZ3RoKCkgPiAzCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLnZUb3VjaE1vdmVTdGFydC5zZXQoZS50b3VjaGVzWzBdLmNsaWVudFgsIGUudG91Y2hlc1swXS5jbGllbnRZKTsKICAgICAgICAgIGNvbW1pdCgnc3RhcnRUb3VjaE1vdmUnKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8ganVkZ2Ugd2hldGhlciB0aGUgc3dpcGUgZGlyZWN0aW9uIGlzIFggb3IgWS4KICAgICAgICBjb21taXQoJ3RvdWNoTW92ZScsIHsKICAgICAgICAgIHg6IHRoaXMudlRvdWNoTW92ZS54IC0gdGhpcy52VG91Y2hNb3ZlU3RhcnQueCwKICAgICAgICAgIHk6IHRoaXMudlRvdWNoTW92ZS55IC0gdGhpcy52VG91Y2hNb3ZlU3RhcnQueQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdG91Y2hlbmQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndG91Y2hFbmQnKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<script>\nimport * as THREE from 'three';\nimport sleep from 'js-util/sleep';\nimport debounce from 'js-util/debounce';\n\nimport GlobalTitle from '@/components/global/GlobalTitle.vue';\nimport UtilityNavi from '@/components/global/UtilityNavi.vue';\nimport WorksNavi from '@/components/global/WorksNavi.vue';\nimport Preloader from '@/components/global/Preloader.vue';\nimport Guide from '@/components/global/Guide.vue';\n\nexport default {\n  name: 'App',\n  metaInfo: {\n    title: '',\n    titleTemplate: '%sAxel Nodinot',\n    meta: [\n      {\n        name: 'description',\n        content: 'Je suis un journaliste. Bousill√© de rap.'\n      }\n    ]\n  },\n  components: {\n    GlobalTitle,\n    UtilityNavi,\n    WorksNavi,\n    Preloader,\n    Guide\n  },\n  data() {\n    return {\n      vTouchStart: new THREE.Vector2(),\n      vTouchMoveStart: new THREE.Vector2(),\n      vTouchMove: new THREE.Vector2(),\n      isTouchMoving: false\n    };\n  },\n  async created() {\n    const { state, dispatch } = this.$store;\n\n    document.body.append(state.canvas);\n    state.canvas.style = `\n        position: absolute;\n        top: 0;\n        left: 0;\n      `;\n\n    // On global events.\n    window.addEventListener('resize', debounce(this.resize, 100));\n    window.addEventListener('mousemove', this.mousemove);\n    document.addEventListener('mouseleave', this.mouseleave);\n    document.addEventListener('touchstart', this.touchstart);\n    document.addEventListener('touchmove', this.touchmove);\n    document.addEventListener('touchend', this.touchend);\n\n    await sleep(500);\n    this.$store.commit('showPreloader');\n    this.update();\n    await dispatch('initWebGL');\n    state.webgl.start(state.canvas, this.$store);\n  },\n  computed: {\n    transitionName() {\n      return this.$store.state.isTransitionDescend === true\n        ? 'view'\n        : 'view-asc';\n    }\n  },\n  methods: {\n    update() {\n      const {\n        webgl,\n        preloadMax,\n        preloadProgress,\n        isLoaded\n      } = this.$store.state;\n      if (isLoaded === false) {\n        this.$store.commit('updatePreloadProgress');\n        if (preloadProgress / preloadMax > 0.999) {\n          this.loaded();\n        }\n      } else {\n        webgl.update();\n      }\n      requestAnimationFrame(this.update);\n    },\n    async loaded() {\n      this.resize();\n      this.$store.commit('loaded');\n      if (this.$route.name === 'home') {\n        await sleep(800);\n      } else {\n        await sleep(2400);\n      }\n      this.$store.state.webgl.play();\n      this.$store.commit('showView');\n    },\n    resize() {\n      const { canvas, resolution, webgl } = this.$store.state;\n\n      resolution.set(document.body.clientWidth, window.innerHeight);\n      canvas.width = resolution.x;\n      canvas.height = resolution.y;\n      this.$store.commit('changeMediaQuery', resolution.x < 768);\n      webgl.resize();\n    },\n    mousemove(e) {\n      if (\n        this.$store.state.isShownUI === false ||\n        this.$store.state.isEnabledTouch === true\n      ) {\n        return;\n      }\n\n      const { resolution, mouse, mousePrev, mouseForce } = this.$store.state;\n\n      if (mousePrev.length() !== 0) mousePrev.copy(mouse);\n      mouse.set(\n        (e.clientX / resolution.x) * 2 - 1,\n        -(e.clientY / resolution.y) * 2 + 1\n      );\n      if (mousePrev.length() === 0) mousePrev.copy(mouse);\n      mouseForce.copy(mouse.clone().sub(mousePrev));\n    },\n    mouseleave() {\n      const { mouse, mousePrev, mouseForce } = this.$store.state;\n\n      mouse.set(0, 0);\n      mousePrev.set(0, 0);\n      mouseForce.set(0, 0);\n    },\n    touchstart(e) {\n      const { commit } = this.$store;\n\n      commit('setEnabledTouch', true);\n      commit('startTouch');\n      this.vTouchStart.set(e.touches[0].clientX, e.touches[0].clientY);\n      this.vTouchMove.set(e.touches[0].clientX, e.touches[0].clientY);\n    },\n    touchmove(e) {\n      const { state, commit } = this.$store;\n\n      if (state.isTouchStarted === false) return;\n      this.vTouchMove.set(e.touches[0].clientX, e.touches[0].clientY);\n      if (state.isTouchMoving === false) {\n        // judge whether the touch is a swipe or a single tap.\n        if (\n          this.vTouchStart\n            .clone()\n            .sub(this.vTouchMove)\n            .length() > 3\n        ) {\n          this.vTouchMoveStart.set(e.touches[0].clientX, e.touches[0].clientY);\n          commit('startTouchMove');\n        }\n      } else {\n        // judge whether the swipe direction is X or Y.\n        commit('touchMove', {\n          x: this.vTouchMove.x - this.vTouchMoveStart.x,\n          y: this.vTouchMove.y - this.vTouchMoveStart.y\n        });\n      }\n    },\n    touchend() {\n      this.$store.commit('touchEnd');\n    }\n  }\n};\n</script>\n\n<template lang=\"pug\">\n  div\n    GlobalTitle\n    UtilityNavi\n    WorksNavi\n    main\n      transition(\n        :name = 'transitionName'\n        appear\n        v-if = '$store.state.isShowView === true'\n        )\n        router-view\n    Preloader\n    Guide(\n      v-if = 'false'\n      )\n</template>\n\n<style lang=\"scss\">\n@import '@/assets/scss/foundation/font.scss';\n\n@import '@/assets/scss/foundation/normalize.scss';\n@import '@/assets/scss/foundation/global.scss';\n@import '@/assets/scss/foundation/keyframes.scss';\n@import '@/assets/scss/object/project/view-wrap.scss';\n</style>\n"]}]}