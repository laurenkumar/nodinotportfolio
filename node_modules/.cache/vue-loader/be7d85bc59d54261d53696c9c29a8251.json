{"remainingRequest":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/uthaya/Downloads/tplh.net-2019-master 3/src/views/Works.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/src/views/Works.vue","mtime":1586628034488},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBmaW5kSW5kZXggZnJvbSAnbG9kYXNoL2ZpbmRJbmRleCc7CmltcG9ydCBub3JtYWxpemVXaGVlbCBmcm9tICdub3JtYWxpemUtd2hlZWwnOwppbXBvcnQgc2xlZXAgZnJvbSAnanMtdXRpbC9zbGVlcCc7CgppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCBXb3JrT3V0bGluZSBmcm9tICdAL2NvbXBvbmVudHMvd29ya3MvV29ya091dGxpbmUudnVlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXJ0aWNsZXMnLAogIG1ldGFJbmZvOiB7CiAgICB0aXRsZTogJ01lcyBBcnRpY2xlcyAvICcKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFdvcmtPdXRsaW5lCiAgfSwKICBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBjb25zdCBpbmRleCA9IGZpbmRJbmRleChzdG9yZS5zdGF0ZS53b3JrcywgeyBrZXk6IHRvLnBhcmFtcy5rZXkgfSk7CgogICAgc3RvcmUuY29tbWl0KCd0cmFuc2l0JywgewogICAgICBnbG9iYWxJZDogMSwKICAgICAgY3VycmVudFdvcmtzSWQ6IGluZGV4CiAgICB9KTsKCiAgICBuZXh0KCk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy53aGVlbCwgeyBwYXNzaXZlOiBmYWxzZSB9KTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLnRvdWNobW92ZSk7CiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgY29uc3QgaW5kZXggPSBmaW5kSW5kZXgodGhpcy4kc3RvcmUuc3RhdGUud29ya3MsIHsKICAgICAga2V5OiB0aGlzLiRyb3V0ZS5wYXJhbXMua2V5CiAgICB9KTsKCiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2NoYW5nZUJhY2tncm91bmQnLCB7CiAgICAgIGlzSG9tZTogZmFsc2UsCiAgICAgIGhhc0RlbGF5OiBmYWxzZQogICAgfSk7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3Nob3dIb21lT2JqcycsIGZhbHNlKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd1dvcmtzT2JqcycsIHsKICAgICAgaW5kZXg6IGluZGV4ICsgMSwKICAgICAgZGlyZWN0aW9uOiAwCiAgICB9KTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd1dob0lBbU9ianMnLCBmYWxzZSk7CgogICAgYXdhaXQgc2xlZXAoNTAwKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd1VJJyk7CiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLndoZWVsLCB7IHBhc3NpdmU6IGZhbHNlIH0pOwogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMudG91Y2htb3ZlKTsKICB9LAogIHdhdGNoOiB7CiAgICAnJHJvdXRlLnBhcmFtcy5rZXknOiBmdW5jdGlvbihrZXkpIHsKICAgICAgY29uc3QgaW5kZXggPSBmaW5kSW5kZXgodGhpcy4kc3RvcmUuc3RhdGUud29ya3MsIHsga2V5OiBrZXkgfSk7CgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3Nob3dXb3Jrc09ianMnLCB7CiAgICAgICAgaW5kZXg6IGluZGV4ICsgMSwKICAgICAgICBkaXJlY3Rpb246IDAKICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndHJhbnNpdCcsIHsKICAgICAgICBnbG9iYWxJZDogMSwKICAgICAgICBjdXJyZW50V29ya3NJZDogaW5kZXgKICAgICAgfSk7CgogICAgICAvLyBzZW5kIGdvb2dsZSBhbmFseXRpY3MKICAgICAgLyogZ2xvYmFsIGd0YWcgKi8KICAgICAgZ3RhZygnY29uZmlnJywgJ1VBLTU2ODAzMy0xJywgeyBwYWdlX3BhdGg6IHRoaXMuJHJvdXRlLnBhdGggfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdHJhbnNpdGlvbk5hbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5pc1RyYW5zaXRpb25EZXNjZW5kID09PSB0cnVlCiAgICAgICAgPyAnc2hvdycKICAgICAgICA6ICdzaG93LWFzYyc7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB3aGVlbChlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGNvbnN0IG4gPSBub3JtYWxpemVXaGVlbChlKTsKICAgICAgY29uc3QgeyBzdGF0ZSwgY29tbWl0IH0gPSB0aGlzLiRzdG9yZTsKCiAgICAgIC8vIFJ1biBhdCB0aGUgZmlyc3Qgd2hlZWwgZXZlbnQgb25seS4KICAgICAgaWYgKHN0YXRlLmlzV2hlZWxpbmcgPT09IGZhbHNlKSB7CiAgICAgICAgaWYgKE1hdGguYWJzKG4ucGl4ZWxZKSA8IDEwKSByZXR1cm47CiAgICAgICAgY29tbWl0KCdzdGFydFdoZWVsaW5nJyk7CgogICAgICAgIGlmIChuLnBpeGVsWSA+IDApIHsKICAgICAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IHBhZ2UuCiAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudFdvcmtzSWQgPCBzdGF0ZS53b3Jrcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBzdGF0ZS5jdXJyZW50V29ya3NJZCArIDE7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvd29ya3MvJHtzdGF0ZS53b3Jrc1tpXS5rZXl9L2ApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy93aG8taS1hbS8nKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gZ28gdG8gdGhlIHByZXZpb3VzIHBhZ2UuCiAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudFdvcmtzSWQgPiAwKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBzdGF0ZS5jdXJyZW50V29ya3NJZCAtIDE7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvd29ya3MvJHtzdGF0ZS53b3Jrc1tpXS5rZXl9L2ApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB0b3VjaG1vdmUoKSB7CiAgICAgIGNvbnN0IHsgc3RhdGUsIGNvbW1pdCwgZGlzcGF0Y2ggfSA9IHRoaXMuJHN0b3JlOwoKICAgICAgaWYgKHN0YXRlLmlzVG91Y2hNb3ZpbmcgPT09IHRydWUpIHsKICAgICAgICBpZiAoc3RhdGUudG91Y2hNb3ZlLnkgPCAtMTApIHsKICAgICAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IHBhZ2UuCiAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudFdvcmtzSWQgPCBzdGF0ZS53b3Jrcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBzdGF0ZS5jdXJyZW50V29ya3NJZCArIDE7CiAgICAgICAgICAgIGRpc3BhdGNoKCdkZWJvdW5jZVJvdXRlclB1c2gnLCBgL3dvcmtzLyR7c3RhdGUud29ya3NbaV0ua2V5fS9gKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRpc3BhdGNoKCdkZWJvdW5jZVJvdXRlclB1c2gnLCAnL3doby1pLWFtLycpOwogICAgICAgICAgfQogICAgICAgICAgY29tbWl0KCd0b3VjaEVuZCcpOwogICAgICAgIH0gZWxzZSBpZiAoc3RhdGUudG91Y2hNb3ZlLnkgPiAxMCkgewogICAgICAgICAgLy8gZ28gdG8gdGhlIHByZXZpb3VzIHBhZ2UuCiAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudFdvcmtzSWQgPiAwKSB7CiAgICAgICAgICAgIGNvbnN0IGkgPSBzdGF0ZS5jdXJyZW50V29ya3NJZCAtIDE7CiAgICAgICAgICAgIGRpc3BhdGNoKCdkZWJvdW5jZVJvdXRlclB1c2gnLCBgL3dvcmtzLyR7c3RhdGUud29ya3NbaV0ua2V5fS9gKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRpc3BhdGNoKCdkZWJvdW5jZVJvdXRlclB1c2gnLCAnLycpOwogICAgICAgICAgfQogICAgICAgICAgY29tbWl0KCd0b3VjaEVuZCcpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["Works.vue"],"names":[],"mappings":";AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Works.vue","sourceRoot":"src/views","sourcesContent":["<script>\nimport findIndex from 'lodash/findIndex';\nimport normalizeWheel from 'normalize-wheel';\nimport sleep from 'js-util/sleep';\n\nimport store from '@/store';\nimport WorkOutline from '@/components/works/WorkOutline.vue';\n\nexport default {\n  name: 'Articles',\n  metaInfo: {\n    title: 'Mes Articles / '\n  },\n  components: {\n    WorkOutline\n  },\n  beforeRouteEnter(to, from, next) {\n    const index = findIndex(store.state.works, { key: to.params.key });\n\n    store.commit('transit', {\n      globalId: 1,\n      currentWorksId: index\n    });\n\n    next();\n  },\n  created() {\n    window.addEventListener('wheel', this.wheel, { passive: false });\n    window.addEventListener('touchmove', this.touchmove);\n  },\n  async mounted() {\n    const index = findIndex(this.$store.state.works, {\n      key: this.$route.params.key\n    });\n\n    this.$store.commit('changeBackground', {\n      isHome: false,\n      hasDelay: false\n    });\n    this.$store.commit('showHomeObjs', false);\n    this.$store.commit('showWorksObjs', {\n      index: index + 1,\n      direction: 0\n    });\n    this.$store.commit('showWhoIAmObjs', false);\n\n    await sleep(500);\n    this.$store.commit('showUI');\n  },\n  destroyed() {\n    window.removeEventListener('wheel', this.wheel, { passive: false });\n    window.removeEventListener('touchmove', this.touchmove);\n  },\n  watch: {\n    '$route.params.key': function(key) {\n      const index = findIndex(this.$store.state.works, { key: key });\n\n      this.$store.commit('showWorksObjs', {\n        index: index + 1,\n        direction: 0\n      });\n      this.$store.commit('transit', {\n        globalId: 1,\n        currentWorksId: index\n      });\n\n      // send google analytics\n      /* global gtag */\n      gtag('config', 'UA-568033-1', { page_path: this.$route.path });\n    }\n  },\n  computed: {\n    transitionName() {\n      return this.$store.state.isTransitionDescend === true\n        ? 'show'\n        : 'show-asc';\n    }\n  },\n  methods: {\n    wheel(e) {\n      e.preventDefault();\n\n      const n = normalizeWheel(e);\n      const { state, commit } = this.$store;\n\n      // Run at the first wheel event only.\n      if (state.isWheeling === false) {\n        if (Math.abs(n.pixelY) < 10) return;\n        commit('startWheeling');\n\n        if (n.pixelY > 0) {\n          // go to the next page.\n          if (state.currentWorksId < state.works.length - 1) {\n            const i = state.currentWorksId + 1;\n            this.$router.push(`/works/${state.works[i].key}/`);\n          } else {\n            this.$router.push('/who-i-am/');\n          }\n        } else {\n          // go to the previous page.\n          if (state.currentWorksId > 0) {\n            const i = state.currentWorksId - 1;\n            this.$router.push(`/works/${state.works[i].key}/`);\n          } else {\n            this.$router.push('/');\n          }\n        }\n      }\n    },\n    touchmove() {\n      const { state, commit, dispatch } = this.$store;\n\n      if (state.isTouchMoving === true) {\n        if (state.touchMove.y < -10) {\n          // go to the next page.\n          if (state.currentWorksId < state.works.length - 1) {\n            const i = state.currentWorksId + 1;\n            dispatch('debounceRouterPush', `/works/${state.works[i].key}/`);\n          } else {\n            dispatch('debounceRouterPush', '/who-i-am/');\n          }\n          commit('touchEnd');\n        } else if (state.touchMove.y > 10) {\n          // go to the previous page.\n          if (state.currentWorksId > 0) {\n            const i = state.currentWorksId - 1;\n            dispatch('debounceRouterPush', `/works/${state.works[i].key}/`);\n          } else {\n            dispatch('debounceRouterPush', '/');\n          }\n          commit('touchEnd');\n        }\n      }\n    }\n  }\n};\n</script>\n\n<template lang=\"pug\">\n  transition-group.p-view-wrap(\n    :name = 'transitionName'\n    appear\n    tag = 'div'\n    )\n    WorkOutline(\n      v-for = 'item, index in $store.state.works'\n      v-if = 'item.key === $route.params.key'\n      :key = 'item.key'\n      :index = 'index'\n      :title = 'item.title'\n      :description = 'item.description'\n      :credit = 'item.credit'\n      :href = 'item.href'\n      )\n</template>\n\n<style lang=\"scss\"></style>\n"]}]}