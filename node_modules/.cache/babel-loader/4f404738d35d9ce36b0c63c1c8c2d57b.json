{"remainingRequest":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js!/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js??ref--14!/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/eslint-loader/index.js??ref--12-0!/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/Petal.js","dependencies":[{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/Petal.js","mtime":1586068672000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy91dGhheWEvRG93bmxvYWRzL3RwbGgubmV0LTIwMTktbWFzdGVyIDMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvdXRoYXlhL0Rvd25sb2Fkcy90cGxoLm5ldC0yMDE5LW1hc3RlciAzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3V0aGF5YS9Eb3dubG9hZHMvdHBsaC5uZXQtMjAxOS1tYXN0ZXIgMy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy91dGhheWEvRG93bmxvYWRzL3RwbGgubmV0LTIwMTktbWFzdGVyIDMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnOwppbXBvcnQgTWF0aEV4IGZyb20gJ2pzLXV0aWwvTWF0aEV4JzsKaW1wb3J0IHZzIGZyb20gJ0Avd2ViZ2wvZ2xzbC9QZXRhbC52cyc7CmltcG9ydCBmcyBmcm9tICdAL3dlYmdsL2dsc2wvUGV0YWwuZnMnOwoKdmFyIFBldGFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVEhSRUUkTWVzaCkgewogIF9pbmhlcml0cyhQZXRhbCwgX1RIUkVFJE1lc2gpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFBldGFsKTsKCiAgZnVuY3Rpb24gUGV0YWwoZ2VvbWV0cnksIGhzdjEsIGhzdjIsIGhzdjMpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGV0YWwpOyAvLyBEZWZpbmUgTWF0ZXJpYWwKCgogICAgdmFyIG1hdGVyaWFsID0gbmV3IFRIUkVFLlJhd1NoYWRlck1hdGVyaWFsKHsKICAgICAgdW5pZm9ybXM6IHsKICAgICAgICB0aW1lOiB7CiAgICAgICAgICB0eXBlOiAnZicsCiAgICAgICAgICB2YWx1ZTogMAogICAgICAgIH0sCiAgICAgICAgbm9pc2VUZXg6IHsKICAgICAgICAgIHR5cGU6ICd0JywKICAgICAgICAgIHZhbHVlOiBudWxsCiAgICAgICAgfSwKICAgICAgICBhbHBoYVNob3c6IHsKICAgICAgICAgIHR5cGU6ICdmJywKICAgICAgICAgIHZhbHVlOiAwCiAgICAgICAgfSwKICAgICAgICBhbHBoYUNvbG9yOiB7CiAgICAgICAgICB0eXBlOiAnZicsCiAgICAgICAgICB2YWx1ZTogMAogICAgICAgIH0sCiAgICAgICAgaHN2MTogewogICAgICAgICAgdHlwZTogJ3YzJywKICAgICAgICAgIHZhbHVlOiBoc3YxCiAgICAgICAgfSwKICAgICAgICBoc3YyOiB7CiAgICAgICAgICB0eXBlOiAndjMnLAogICAgICAgICAgdmFsdWU6IGhzdjIKICAgICAgICB9LAogICAgICAgIGhzdjM6IHsKICAgICAgICAgIHR5cGU6ICd2MycsCiAgICAgICAgICB2YWx1ZTogaHN2MwogICAgICAgIH0KICAgICAgfSwKICAgICAgdmVydGV4U2hhZGVyOiB2cywKICAgICAgZnJhZ21lbnRTaGFkZXI6IGZzLAogICAgICBmbGF0U2hhZGluZzogdHJ1ZSwKICAgICAgc2lkZTogVEhSRUUuRG91YmxlU2lkZSwKICAgICAgdHJhbnNwYXJlbnQ6IHRydWUKICAgIH0pOyAvLyBDcmVhdGUgT2JqZWN0M0QKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGdlb21ldHJ5LCBtYXRlcmlhbCk7CiAgICBfdGhpcy5uYW1lID0gJ1BldGFsJzsKICAgIF90aGlzLm1hc3MgPSBNYXRoLnJhbmRvbSgpOwogICAgX3RoaXMucm90YXRlRGlyZWN0aW9uID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSAqIDIgLSAxOwoKICAgIF90aGlzLnNjYWxlLnNldChfdGhpcy5tYXNzICogMS4yICsgMC43LCBfdGhpcy5tYXNzICogMS4yICsgMC43LCBfdGhpcy5tYXNzICogMS4yICsgMC43KTsKCiAgICBfdGhpcy5yb3RhdGlvbi5zZXQoTWF0aEV4LnJhZGlhbnMoKE1hdGgucmFuZG9tKCkgKiAyIC0gMSkgKiA2MCksIDAsIE1hdGhFeC5yYWRpYW5zKChNYXRoLnJhbmRvbSgpICogMiAtIDEpICogNjApKTsKCiAgICBfdGhpcy5heGlzQm9keVJvdGF0ZSA9IG5ldyBUSFJFRS5WZWN0b3IzKCkuY29weShfdGhpcy51cCkuYXBwbHlFdWxlcihfdGhpcy5yb3RhdGlvbik7CiAgICBfdGhpcy5xdWF0ZXJuaW9uUHJldiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7CiAgICBfdGhpcy5pc0FjdGl2ZSA9IGZhbHNlOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFBldGFsLCBbewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KG5vaXNlVGV4KSB7CiAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlOwogICAgICB0aGlzLm1hdGVyaWFsLnVuaWZvcm1zLm5vaXNlVGV4LnZhbHVlID0gbm9pc2VUZXg7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUodGltZSkgewogICAgICBpZiAodGhpcy5pc0FjdGl2ZSA9PT0gZmFsc2UpIHJldHVybjsgLy8gcm90YXRlIHdpdGggYSBxdWF0ZXJuaW9uLgoKICAgICAgdGhpcy5xdWF0ZXJuaW9uUHJldi5jb3B5KHRoaXMucXVhdGVybmlvbik7CiAgICAgIHRoaXMucXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKHRoaXMuYXhpc0JvZHlSb3RhdGUsIHRpbWUgKiB0aGlzLnJvdGF0ZURpcmVjdGlvbiAqICgxIC0gdGhpcy5tYXNzICsgMC41KSAqIDEuNCkubXVsdGlwbHkodGhpcy5xdWF0ZXJuaW9uUHJldik7CiAgICAgIHRoaXMubWF0ZXJpYWwudW5pZm9ybXMudGltZS52YWx1ZSArPSB0aW1lOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFBldGFsOwp9KFRIUkVFLk1lc2gpOwoKZXhwb3J0IHsgUGV0YWwgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/Petal.js"],"names":["Petal","THREE","Mesh","material","uniforms","time","type","value","noiseTex","alphaShow","alphaColor","hsv1","hsv2","hsv3","vertexShader","fragmentShader","flatShading","side","transparent","Math","MathEx"],"mappings":";;;;;;AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,gBAAA;AAEA,OAAA,EAAA,MAAA,uBAAA;AACA,OAAA,EAAA,MAAA,uBAAA;;IAEqBA,K;;;;;AACnB,WAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAwC;AAAA,QAAA,KAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA,CACtC;;;AACA,QAAMG,QAAQ,GAAG,IAAIF,KAAK,CAAT,iBAAA,CAA4B;AAC3CG,MAAAA,QAAQ,EAAE;AACRC,QAAAA,IAAI,EAAE;AACJC,UAAAA,IAAI,EADA,GAAA;AAEJC,UAAAA,KAAK,EAAE;AAFH,SADE;AAKRC,QAAAA,QAAQ,EAAE;AACRF,UAAAA,IAAI,EADI,GAAA;AAERC,UAAAA,KAAK,EAAE;AAFC,SALF;AASRE,QAAAA,SAAS,EAAE;AACTH,UAAAA,IAAI,EADK,GAAA;AAETC,UAAAA,KAAK,EAAE;AAFE,SATH;AAaRG,QAAAA,UAAU,EAAE;AACVJ,UAAAA,IAAI,EADM,GAAA;AAEVC,UAAAA,KAAK,EAAE;AAFG,SAbJ;AAiBRI,QAAAA,IAAI,EAAE;AACJL,UAAAA,IAAI,EADA,IAAA;AAEJC,UAAAA,KAAK,EAAEI;AAFH,SAjBE;AAqBRC,QAAAA,IAAI,EAAE;AACJN,UAAAA,IAAI,EADA,IAAA;AAEJC,UAAAA,KAAK,EAAEK;AAFH,SArBE;AAyBRC,QAAAA,IAAI,EAAE;AACJP,UAAAA,IAAI,EADA,IAAA;AAEJC,UAAAA,KAAK,EAAEM;AAFH;AAzBE,OADiC;AA+B3CC,MAAAA,YAAY,EA/B+B,EAAA;AAgC3CC,MAAAA,cAAc,EAhC6B,EAAA;AAiC3CC,MAAAA,WAAW,EAjCgC,IAAA;AAkC3CC,MAAAA,IAAI,EAAEhB,KAAK,CAlCgC,UAAA;AAmC3CiB,MAAAA,WAAW,EAAE;AAnC8B,KAA5B,CAAjB,CAFsC,CAwCtC;;AACA,IAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,EAAA,QAAA,EAAA,QAAA,CAAA;AACA,IAAA,KAAA,CAAA,IAAA,GAAA,OAAA;AACA,IAAA,KAAA,CAAA,IAAA,GAAYC,IAAI,CAAhB,MAAYA,EAAZ;AACA,IAAA,KAAA,CAAA,eAAA,GAAuBA,IAAI,CAAJA,KAAAA,CAAWA,IAAI,CAAfA,MAAWA,EAAXA,IAAAA,CAAAA,GAAvB,CAAA;;AACA,IAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CACE,KAAA,CAAA,IAAA,GAAA,GAAA,GADF,GAAA,EAEE,KAAA,CAAA,IAAA,GAAA,GAAA,GAFF,GAAA,EAGE,KAAA,CAAA,IAAA,GAAA,GAAA,GAHF,GAAA;;AAKA,IAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CACEC,MAAM,CAANA,OAAAA,CAAe,CAACD,IAAI,CAAJA,MAAAA,KAAAA,CAAAA,GAAD,CAAA,IADjB,EACEC,CADF,EAAA,CAAA,EAGEA,MAAM,CAANA,OAAAA,CAAe,CAACD,IAAI,CAAJA,MAAAA,KAAAA,CAAAA,GAAD,CAAA,IAHjB,EAGEC,CAHF;;AAKA,IAAA,KAAA,CAAA,cAAA,GAAsB,IAAInB,KAAK,CAAT,OAAA,GAAA,IAAA,CACd,KAAA,CADc,EAAA,EAAA,UAAA,CAER,KAAA,CAFd,QAAsB,CAAtB;AAGA,IAAA,KAAA,CAAA,cAAA,GAAsB,IAAIA,KAAK,CAA/B,UAAsB,EAAtB;AACA,IAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AA3DsC,WAAA,KAAA;AA4DvC;;;;0BACKO,Q,EAAU;AACd,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,QAAA,CAAA,QAAA,CAAA,KAAA,GAAA,QAAA;AACD;;;2BACMH,I,EAAM;AACX,UAAI,KAAA,QAAA,KAAJ,KAAA,EADW,OAAA,CAGX;;AACA,WAAA,cAAA,CAAA,IAAA,CAAyB,KAAzB,UAAA;AACA,WAAA,UAAA,CAAA,gBAAA,CAEI,KAFJ,cAAA,EAGIA,IAAI,GAAG,KAAPA,eAAAA,IAA+B,IAAI,KAAJ,IAAA,GAA/BA,GAAAA,IAHJ,GAAA,EAAA,QAAA,CAKY,KALZ,cAAA;AAOA,WAAA,QAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,IAAA,IAAA;AACD;;;;EA/EgCJ,KAAK,CAACC,I;;SAApBF,K","sourcesContent":["import * as THREE from 'three';\nimport MathEx from 'js-util/MathEx';\n\nimport vs from '@/webgl/glsl/Petal.vs';\nimport fs from '@/webgl/glsl/Petal.fs';\n\nexport default class Petal extends THREE.Mesh {\n  constructor(geometry, hsv1, hsv2, hsv3) {\n    // Define Material\n    const material = new THREE.RawShaderMaterial({\n      uniforms: {\n        time: {\n          type: 'f',\n          value: 0\n        },\n        noiseTex: {\n          type: 't',\n          value: null\n        },\n        alphaShow: {\n          type: 'f',\n          value: 0\n        },\n        alphaColor: {\n          type: 'f',\n          value: 0\n        },\n        hsv1: {\n          type: 'v3',\n          value: hsv1\n        },\n        hsv2: {\n          type: 'v3',\n          value: hsv2\n        },\n        hsv3: {\n          type: 'v3',\n          value: hsv3\n        }\n      },\n      vertexShader: vs,\n      fragmentShader: fs,\n      flatShading: true,\n      side: THREE.DoubleSide,\n      transparent: true\n    });\n\n    // Create Object3D\n    super(geometry, material);\n    this.name = 'Petal';\n    this.mass = Math.random();\n    this.rotateDirection = Math.round(Math.random()) * 2 - 1;\n    this.scale.set(\n      this.mass * 1.2 + 0.7,\n      this.mass * 1.2 + 0.7,\n      this.mass * 1.2 + 0.7\n    );\n    this.rotation.set(\n      MathEx.radians((Math.random() * 2 - 1) * 60),\n      0,\n      MathEx.radians((Math.random() * 2 - 1) * 60)\n    );\n    this.axisBodyRotate = new THREE.Vector3()\n      .copy(this.up)\n      .applyEuler(this.rotation);\n    this.quaternionPrev = new THREE.Quaternion();\n    this.isActive = false;\n  }\n  start(noiseTex) {\n    this.isActive = true;\n    this.material.uniforms.noiseTex.value = noiseTex;\n  }\n  update(time) {\n    if (this.isActive === false) return;\n\n    // rotate with a quaternion.\n    this.quaternionPrev.copy(this.quaternion);\n    this.quaternion\n      .setFromAxisAngle(\n        this.axisBodyRotate,\n        time * this.rotateDirection * (1 - this.mass + 0.5) * 1.4\n      )\n      .multiply(this.quaternionPrev);\n\n    this.material.uniforms.time.value += time;\n  }\n}\n"]}]}