{"remainingRequest":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/thread-loader/dist/cjs.js!/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js!/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js??ref--14!/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/eslint-loader/index.js??ref--12-0!/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/PetalFallGroup.js","dependencies":[{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/PetalFallGroup.js","mtime":1586068672000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy91dGhheWEvRG93bmxvYWRzL3RwbGgubmV0LTIwMTktbWFzdGVyIDMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvdXRoYXlhL0Rvd25sb2Fkcy90cGxoLm5ldC0yMDE5LW1hc3RlciAzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3V0aGF5YS9Eb3dubG9hZHMvdHBsaC5uZXQtMjAxOS1tYXN0ZXIgMy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy91dGhheWEvRG93bmxvYWRzL3RwbGgubmV0LTIwMTktbWFzdGVyIDMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCBQZXRhbEZhbGwgZnJvbSAnQC93ZWJnbC9QZXRhbEZhbGwnOwp2YXIgUEVUQUxfTlVNID0gNDg7Cgp2YXIgUGV0YWxGYWxsR3JvdXAgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9USFJFRSRHcm91cCkgewogIF9pbmhlcml0cyhQZXRhbEZhbGxHcm91cCwgX1RIUkVFJEdyb3VwKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQZXRhbEZhbGxHcm91cCk7CgogIGZ1bmN0aW9uIFBldGFsRmFsbEdyb3VwKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQZXRhbEZhbGxHcm91cCk7CgogICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKTsKICAgIF90aGlzLm5hbWUgPSAnUGV0YWxGYWxsR3JvdXAnOwogICAgX3RoaXMucGV0YWxzID0gQXJyYXkoUEVUQUxfTlVNKTsKICAgIF90aGlzLnRpbWUgPSAwOwogICAgX3RoaXMuaXNBY3RpdmUgPSBmYWxzZTsKICAgIF90aGlzLmlzU2hvd25GaXJzdCA9IGZhbHNlOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFBldGFsRmFsbEdyb3VwLCBbewogICAga2V5OiAic3RhcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KGdlb21ldHJ5UGV0YWwxLCBnZW9tZXRyeVBldGFsMiwgbm9pc2VUZXgsIGhzdjEsIGhzdjIsIGhzdjMpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBldGFscy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBnZW9tZXRyeSA9IGkgJSAyID09PSAxID8gZ2VvbWV0cnlQZXRhbDEgOiBnZW9tZXRyeVBldGFsMjsKICAgICAgICB0aGlzLnBldGFsc1tpXSA9IG5ldyBQZXRhbEZhbGwoZ2VvbWV0cnksIGhzdjEsIGhzdjIsIGhzdjMpOwogICAgICAgIHRoaXMuYWRkKHRoaXMucGV0YWxzW2ldKTsKICAgICAgICB0aGlzLnBldGFsc1tpXS5zdGFydChub2lzZVRleCk7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlOwogICAgfQogIH0sIHsKICAgIGtleTogInNob3ciLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIGlmICh0aGlzLmlzU2hvd25GaXJzdCA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLmlzU2hvd25GaXJzdCA9IHRydWU7CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wZXRhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLnBldGFsc1tpXS5zaG93KHRoaXMuaXNTaG93bkZpcnN0KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImhpZGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wZXRhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLnBldGFsc1tpXS5oaWRlKCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJ1cGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSh0aW1lKSB7CiAgICAgIGlmICh0aGlzLmlzQWN0aXZlID09PSBmYWxzZSkgcmV0dXJuOwogICAgICB2YXIgc2Nyb2xsUHJvZ3Jlc3MgPSBzdG9yZS5zdGF0ZS5zY3JvbGxQcm9ncmVzczsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wZXRhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLnBldGFsc1tpXS51cGRhdGUodGltZSwgc2Nyb2xsUHJvZ3Jlc3MpOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUGV0YWxGYWxsR3JvdXA7Cn0oVEhSRUUuR3JvdXApOwoKZXhwb3J0IHsgUGV0YWxGYWxsR3JvdXAgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/PetalFallGroup.js"],"names":["PETAL_NUM","PetalFallGroup","THREE","Group","Array","geometryPetal1","geometryPetal2","noiseTex","hsv1","hsv2","hsv3","i","geometry","time","scrollProgress","store"],"mappings":";;;;;;AAAA,OAAO,KAAP,KAAA,MAAA,OAAA;AAEA,OAAA,KAAA,MAAA,SAAA;AACA,OAAA,SAAA,MAAA,mBAAA;AAEA,IAAMA,SAAS,GAAf,EAAA;;IAEqBC,c;;;;;AACnB,WAAA,cAAA,GAAc;AAAA,QAAA,KAAA;;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,cAAA,CAAA;;AACZ,IAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,IAAA,KAAA,CAAA,IAAA,GAAA,gBAAA;AACA,IAAA,KAAA,CAAA,MAAA,GAAcG,KAAK,CAAnB,SAAmB,CAAnB;AACA,IAAA,KAAA,CAAA,IAAA,GAAA,CAAA;AACA,IAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,IAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AANY,WAAA,KAAA;AAOb;;;;0BACKC,c,EAAgBC,c,EAAgBC,Q,EAAUC,I,EAAMC,I,EAAMC,I,EAAM;AAChE,WAAK,IAAIC,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG,KAAA,MAAA,CAApB,MAAA,EAAwCA,CAAxC,EAAA,EAA6C;AAC3C,YAAMC,QAAQ,GAAGD,CAAC,GAADA,CAAAA,KAAAA,CAAAA,GAAAA,cAAAA,GAAjB,cAAA;AACA,aAAA,MAAA,CAAA,CAAA,IAAiB,IAAA,SAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA,EAAjB,IAAiB,CAAjB;AACA,aAAA,GAAA,CAAS,KAAA,MAAA,CAAT,CAAS,CAAT;AACA,aAAA,MAAA,CAAA,CAAA,EAAA,KAAA,CAAA,QAAA;AACD;;AACD,WAAA,QAAA,GAAA,IAAA;AACD;;;2BACM;AACL,UAAI,KAAA,YAAA,KAAJ,KAAA,EAAiC;AAC/B,aAAA,YAAA,GAAA,IAAA;AACD;;AACD,WAAK,IAAIA,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG,KAAA,MAAA,CAApB,MAAA,EAAwCA,CAAxC,EAAA,EAA6C;AAC3C,aAAA,MAAA,CAAA,CAAA,EAAA,IAAA,CAAoB,KAApB,YAAA;AACD;AACF;;;2BACM;AACL,WAAK,IAAIA,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG,KAAA,MAAA,CAApB,MAAA,EAAwCA,CAAxC,EAAA,EAA6C;AAC3C,aAAA,MAAA,CAAA,CAAA,EAAA,IAAA;AACD;AACF;;;2BACME,I,EAAM;AACX,UAAI,KAAA,QAAA,KAAJ,KAAA,EAA6B;AADlB,UAGHC,cAHG,GAGgBC,KAAK,CAHrB,KAGgBA,CAHhB,cAAA;;AAKX,WAAK,IAAIJ,CAAC,GAAV,CAAA,EAAgBA,CAAC,GAAG,KAAA,MAAA,CAApB,MAAA,EAAwCA,CAAxC,EAAA,EAA6C;AAC3C,aAAA,MAAA,CAAA,CAAA,EAAA,MAAA,CAAA,IAAA,EAAA,cAAA;AACD;AACF;;;;EAvCyCT,KAAK,CAACC,K;;SAA7BF,c","sourcesContent":["import * as THREE from 'three';\n\nimport store from '@/store';\nimport PetalFall from '@/webgl/PetalFall';\n\nconst PETAL_NUM = 48;\n\nexport default class PetalFallGroup extends THREE.Group {\n  constructor() {\n    super();\n    this.name = 'PetalFallGroup';\n    this.petals = Array(PETAL_NUM);\n    this.time = 0;\n    this.isActive = false;\n    this.isShownFirst = false;\n  }\n  start(geometryPetal1, geometryPetal2, noiseTex, hsv1, hsv2, hsv3) {\n    for (var i = 0; i < this.petals.length; i++) {\n      const geometry = i % 2 === 1 ? geometryPetal1 : geometryPetal2;\n      this.petals[i] = new PetalFall(geometry, hsv1, hsv2, hsv3);\n      this.add(this.petals[i]);\n      this.petals[i].start(noiseTex);\n    }\n    this.isActive = true;\n  }\n  show() {\n    if (this.isShownFirst === false) {\n      this.isShownFirst = true;\n    }\n    for (var i = 0; i < this.petals.length; i++) {\n      this.petals[i].show(this.isShownFirst);\n    }\n  }\n  hide() {\n    for (var i = 0; i < this.petals.length; i++) {\n      this.petals[i].hide();\n    }\n  }\n  update(time) {\n    if (this.isActive === false) return;\n\n    const { scrollProgress } = store.state;\n\n    for (var i = 0; i < this.petals.length; i++) {\n      this.petals[i].update(time, scrollProgress);\n    }\n  }\n}\n"]}]}