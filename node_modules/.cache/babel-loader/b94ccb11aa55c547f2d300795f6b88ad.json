{"remainingRequest":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js!/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js??ref--14!/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/eslint-loader/index.js??ref--12-0!/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/PetalFall.js","dependencies":[{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/PetalFall.js","mtime":1586068672000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uthaya/Downloads/tplh.net-2019-master 3/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy91dGhheWEvRG93bmxvYWRzL3RwbGgubmV0LTIwMTktbWFzdGVyIDMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvdXRoYXlhL0Rvd25sb2Fkcy90cGxoLm5ldC0yMDE5LW1hc3RlciAzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiL1VzZXJzL3V0aGF5YS9Eb3dubG9hZHMvdHBsaC5uZXQtMjAxOS1tYXN0ZXIgMy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2dldCBmcm9tICIvVXNlcnMvdXRoYXlhL0Rvd25sb2Fkcy90cGxoLm5ldC0yMDE5LW1hc3RlciAzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy91dGhheWEvRG93bmxvYWRzL3RwbGgubmV0LTIwMTktbWFzdGVyIDMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvdXRoYXlhL0Rvd25sb2Fkcy90cGxoLm5ldC0yMDE5LW1hc3RlciAzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJzsKaW1wb3J0IHsgZWFzZU91dENpcmMgfSBmcm9tICdlYXNpbmctanMnOwppbXBvcnQgTWF0aEV4IGZyb20gJ2pzLXV0aWwvTWF0aEV4JzsKaW1wb3J0IFBldGFsIGZyb20gJ0Avd2ViZ2wvUGV0YWwnOwp2YXIgRFVSQVRJT05fU0hPVyA9IDU7CnZhciBERUxBWV9TSE9XID0gMS4yOwp2YXIgRFVSQVRJT05fSElERSA9IDE7CnZhciBERUxBWV9ISURFID0gMDsKCnZhciBQZXRhbEZhbGwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9QZXRhbCkgewogIF9pbmhlcml0cyhQZXRhbEZhbGwsIF9QZXRhbCk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoUGV0YWxGYWxsKTsKCiAgZnVuY3Rpb24gUGV0YWxGYWxsKGdlb21ldHJ5LCBoc3YxLCBoc3YyLCBoc3YzKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBldGFsRmFsbCk7IC8vIENyZWF0ZSBPYmplY3QzRAoKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGdlb21ldHJ5LCBoc3YxLCBoc3YyLCBoc3YzKTsKICAgIF90aGlzLm5hbWUgPSAnUGV0YWxGYWxsJzsKICAgIF90aGlzLmR1cmF0aW9uRmFsbCA9ICgxIC0gX3RoaXMubWFzcykgKiAxMCArIE1hdGgucmFuZG9tKCkgKiA1ICsgNTsKICAgIF90aGlzLmRlbGF5RmFsbCA9IF90aGlzLmR1cmF0aW9uRmFsbCAqIE1hdGgucmFuZG9tKCk7CiAgICBfdGhpcy5kZWxheVNob3cgPSBERUxBWV9TSE9XICsgTWF0aC5yYW5kb20oKTsKICAgIF90aGlzLmRlbGF5SGlkZSA9IERFTEFZX0hJREUgKyBNYXRoLnJhbmRvbSgpICogMC4yOwogICAgX3RoaXMudGltZUZhbGwgPSAwOwogICAgX3RoaXMudGltZVNob3cgPSAwOwogICAgX3RoaXMudGltZUhpZGUgPSAwOwogICAgX3RoaXMuaXNTaG93biA9IGZhbHNlOwogICAgX3RoaXMuaXNTaG93bkZpcnN0ID0gZmFsc2U7CiAgICBfdGhpcy5pc0hpZGRlbiA9IGZhbHNlOwogICAgX3RoaXMuYmFzZVBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKE1hdGgucmFuZG9tKCkgKiAyIC0gMSkgKiA0MCwgMCwgTWF0aC5yYW5kb20oKSAqIDIwICsgNSk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUGV0YWxGYWxsLCBbewogICAga2V5OiAic2hvdyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdGhpcy50aW1lU2hvdyA9IDA7CiAgICAgIHRoaXMudGltZUhpZGUgPSAwOwogICAgICB0aGlzLmlzU2hvd24gPSB0cnVlOwogICAgICB0aGlzLmlzSGlkZGVuID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGlkZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdGhpcy5pc0hpZGRlbiA9IHRydWU7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUodGltZSwgc2Nyb2xsUHJvZ3Jlc3MpIHsKICAgICAgX2dldChfZ2V0UHJvdG90eXBlT2YoUGV0YWxGYWxsLnByb3RvdHlwZSksICJ1cGRhdGUiLCB0aGlzKS5jYWxsKHRoaXMsIHRpbWUpOwoKICAgICAgdGhpcy50aW1lRmFsbCArPSB0aW1lOyAvLyBmb3IgdGhlIHNob3dpbmcgZWZmZWN0LgoKICAgICAgaWYgKHRoaXMuaXNTaG93biA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMudGltZVNob3cgKz0gdGltZTsKCiAgICAgICAgaWYgKHRoaXMudGltZVNob3cgLSB0aGlzLmRlbGF5U2hvdyA+PSBEVVJBVElPTl9TSE9XKSB7CiAgICAgICAgICB0aGlzLmlzU2hvd24gPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gLy8gZm9yIHRoZSBoaWRpbmcgZWZmZWN0LgoKCiAgICAgIGlmICh0aGlzLmlzSGlkZGVuID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy50aW1lSGlkZSArPSB0aW1lOwoKICAgICAgICBpZiAodGhpcy50aW1lSGlkZSAtIHRoaXMuZGVsYXlIaWRlID49IERVUkFUSU9OX0hJREUpIHsKICAgICAgICAgIHRoaXMuaXNIaWRkZW4gPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gLy8gY2FsY3VsYXRpb24gdGhlIGFscGhhLgoKCiAgICAgIHZhciBhbHBoYVNob3cgPSBlYXNlT3V0Q2lyYyhNYXRoRXguY2xhbXAoKHRoaXMudGltZVNob3cgLSB0aGlzLmRlbGF5U2hvdykgLyBEVVJBVElPTl9TSE9XLCAwLjAsIDEuMCkpOwogICAgICB2YXIgYWxwaGFIaWRlID0gZWFzZU91dENpcmMoTWF0aEV4LmNsYW1wKCh0aGlzLnRpbWVIaWRlIC0gdGhpcy5kZWxheUhpZGUpIC8gRFVSQVRJT05fSElERSwgMC4wLCAxLjApKTsKICAgICAgdGhpcy5tYXRlcmlhbC51bmlmb3Jtcy5hbHBoYVNob3cudmFsdWUgPSBhbHBoYVNob3cgKiAoMS4wIC0gYWxwaGFIaWRlKTsKICAgICAgdGhpcy5wb3NpdGlvbi5zZXQodGhpcy5iYXNlUG9zaXRpb24ueCArIE1hdGguc2luKCh0aGlzLnRpbWVGYWxsICsgdGhpcy5kZWxheUZhbGwpICogMC4zKSAqIDEuNSwgKCgodGhpcy50aW1lRmFsbCArIHRoaXMuZGVsYXlGYWxsKSAvIHRoaXMuZHVyYXRpb25GYWxsIC0gc2Nyb2xsUHJvZ3Jlc3MgKiAwLjQpICUgMSAqIDIgLSAxKSAqIC0yMCwgdGhpcy5iYXNlUG9zaXRpb24ueik7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUGV0YWxGYWxsOwp9KFBldGFsKTsKCmV4cG9ydCB7IFBldGFsRmFsbCBhcyBkZWZhdWx0IH07"},{"version":3,"sources":["/Users/uthaya/Downloads/tplh.net-2019-master 3/src/webgl/PetalFall.js"],"names":["DURATION_SHOW","DELAY_SHOW","DURATION_HIDE","DELAY_HIDE","PetalFall","Petal","Math","THREE","time","scrollProgress","alphaShow","easeOutCirc","MathEx","alphaHide"],"mappings":"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","sourcesContent":["import * as THREE from 'three';\nimport { easeOutCirc } from 'easing-js';\nimport MathEx from 'js-util/MathEx';\n\nimport Petal from '@/webgl/Petal';\n\nconst DURATION_SHOW = 5;\nconst DELAY_SHOW = 1.2;\nconst DURATION_HIDE = 1;\nconst DELAY_HIDE = 0;\n\nexport default class PetalFall extends Petal {\n  constructor(geometry, hsv1, hsv2, hsv3) {\n    // Create Object3D\n    super(geometry, hsv1, hsv2, hsv3);\n    this.name = 'PetalFall';\n    this.durationFall = (1 - this.mass) * 10 + Math.random() * 5 + 5;\n    this.delayFall = this.durationFall * Math.random();\n    this.delayShow = DELAY_SHOW + Math.random();\n    this.delayHide = DELAY_HIDE + Math.random() * 0.2;\n    this.timeFall = 0;\n    this.timeShow = 0;\n    this.timeHide = 0;\n    this.isShown = false;\n    this.isShownFirst = false;\n    this.isHidden = false;\n\n    this.basePosition = new THREE.Vector3(\n      (Math.random() * 2 - 1) * 40,\n      0,\n      Math.random() * 20 + 5\n    );\n  }\n  show() {\n    this.timeShow = 0;\n    this.timeHide = 0;\n    this.isShown = true;\n    this.isHidden = false;\n  }\n  hide() {\n    this.isHidden = true;\n  }\n  update(time, scrollProgress) {\n    super.update(time);\n    this.timeFall += time;\n\n    // for the showing effect.\n    if (this.isShown === true) {\n      this.timeShow += time;\n      if (this.timeShow - this.delayShow >= DURATION_SHOW) {\n        this.isShown = false;\n      }\n    }\n    // for the hiding effect.\n    if (this.isHidden === true) {\n      this.timeHide += time;\n      if (this.timeHide - this.delayHide >= DURATION_HIDE) {\n        this.isHidden = false;\n      }\n    }\n\n    // calculation the alpha.\n    const alphaShow = easeOutCirc(\n      MathEx.clamp((this.timeShow - this.delayShow) / DURATION_SHOW, 0.0, 1.0)\n    );\n    const alphaHide = easeOutCirc(\n      MathEx.clamp((this.timeHide - this.delayHide) / DURATION_HIDE, 0.0, 1.0)\n    );\n    this.material.uniforms.alphaShow.value = alphaShow * (1.0 - alphaHide);\n\n    this.position.set(\n      this.basePosition.x +\n        Math.sin((this.timeFall + this.delayFall) * 0.3) * 1.5,\n      ((((this.timeFall + this.delayFall) / this.durationFall -\n        scrollProgress * 0.4) %\n        1) *\n        2 -\n        1) *\n        -20,\n      this.basePosition.z\n    );\n  }\n}\n"]}]}